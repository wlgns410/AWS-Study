# Route53 - Latency Policy

<br>

지연시간이 가장 가까운 리소스로 리다이렉팅 하는 정책이다.  
지연시간에 민감한 웹사이트나 애플리케이션이 있는 경우에 유용하다.  
유저가 가장 가까운 식별된 AWS 리전에 연결하기까지 걸리는 시간을 기반으로 측정된다.

<br>

![스크린샷 2023-04-06 오전 10 40 07](https://user-images.githubusercontent.com/81137234/230251130-6c0ddf63-b4a2-4035-b3bf-179cec0e6410.png)
![스크린샷 2023-04-06 오전 10 40 20](https://user-images.githubusercontent.com/81137234/230251139-75384e5b-ee9c-4bd2-b459-8b48fcffb3b4.png)

<br>

Latency 를 고르게 되면 레코드의 리전을 지정해야한다.  
왜냐하면 Value에 IP를 넣어도 해당 IP가 어떤 리전의 인스턴스에서 왔다는 것을 모르기 때문이다.  
인스턴스가 여러개면 레코드 생성을 반복하면 된다. 

<br>

```

# dig 설치
sudo yum install bind-utils

# 테스트
dig 도메인주소

```

<br>

![스크린샷 2023-04-05 오전 10 48 49](https://user-images.githubusercontent.com/81137234/229960260-f3076708-28ce-4c2d-b01f-e962d2001021.png)

<br>

참고로 해당 A레코드가 바뀌는 것을 확인하면 리전이 바뀌고 있는 것을 확인할 수 있지만 리전이 바뀌지는 않는다.  
리전이 바뀌는 것을 확인하려면 VPN을 사용해서 해당 리전의 근처의 주소로 접속하면 원하는 리전이 뜬다.

<br>
